(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{515:function(a,t,o){"use strict";o.r(t);var e=o(48),r=Object(e.a)({},function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[o("h1",{attrs:{id:"mongodb-のアップグレード"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-のアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB のアップグレード")]),a._v(" "),o("p"),o("div",{staticClass:"table-of-contents"},[o("ul",[o("li",[o("a",{attrs:{href:"#mongodb-v3-4-から-v3-6-へのアップグレード"}},[a._v("MongoDB v3.4 から v3.6 へのアップグレード")])]),o("li",[o("a",{attrs:{href:"#mongodb-v3-6-から-v4-0-へのアップグレード"}},[a._v("MongoDB v3.6 から v4.0 へのアップグレード")])]),o("li",[o("a",{attrs:{href:"#mongodb-v4-0-から-v4-2-へのアップグレード"}},[a._v("MongoDB v4.0 から v4.2 へのアップグレード")])]),o("li",[o("a",{attrs:{href:"#mongodb-v4-2-から-v4-4-へのアップグレード"}},[a._v("MongoDB v4.2 から v4.4 へのアップグレード")])]),o("li",[o("a",{attrs:{href:"#mongodb-v4-4-から-v5-0-へのアップグレード"}},[a._v("MongoDB v4.4 から v5.0 へのアップグレード")])]),o("li",[o("a",{attrs:{href:"#mongodb-v5-0-から-v6-0-へのアップグレード"}},[a._v("MongoDB v5.0 から v6.0 へのアップグレード")])]),o("li",[o("a",{attrs:{href:"#付録a-docker-ユーザーのためのアップグレード手順例"}},[a._v("付録A: docker ユーザーのためのアップグレード手順例")])]),o("li",[o("a",{attrs:{href:"#付録b-docker-compose-ユーザーのためのアップグレード手順例"}},[a._v("付録B: docker-compose ユーザーのためのアップグレード手順例")])])])]),o("p"),a._v(" "),o("div",{staticClass:"custom-block warning"},[o("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),o("p",[a._v("この項目の内容は、以下の GROWI バーションアップ時に必要な場合があります。")]),a._v(" "),o("ul",[o("li",[o("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/61x.html"}},[a._v("v6.1.x へのアップグレード")])],1),a._v(" "),o("li",[o("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/42x.html"}},[a._v("v4.2.x へのアップグレード")])],1),a._v(" "),o("li",[o("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/34x.html"}},[a._v("v3.4.x へのアップグレード")])],1)])]),a._v(" "),o("p",[a._v("GROWI のバージョン v4.1.x から v4.2.x にアップグレードする場合は、以下のセクションのうち、「v3.4からv3.6(またはv3.6からv4.0)」から「v4.2からv4.4」までを上から順に一つずつ操作する必要があります。")]),a._v(" "),o("p",[a._v("GROWI のバージョン v6.0.x から v6.1.x にアップグレードする場合は、以下のセクションのうち、「v4.4からv5.0」から「v5.0からv6.0」までを上から順に一つずつ操作する必要があります。\n")]),a._v(" "),o("h2",{attrs:{id:"mongodb-v3-4-から-v3-6-へのアップグレード"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v3-4-から-v3-6-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v3.4 から v3.6 へのアップグレード")]),a._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[a._v("Note")]),a._v(" "),o("p",[a._v("GROWI v3.3以前を利用したことがない場合、本セクションは飛ばして構いません。")])]),a._v(" "),o("p",[a._v("v3.4 から v3.6 へのアップグレードは"),o("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/3.6-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),o("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),o("h2",{attrs:{id:"mongodb-v3-6-から-v4-0-へのアップグレード"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v3-6-から-v4-0-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v3.6 から v4.0 へのアップグレード")]),a._v(" "),o("p",[a._v("v3.6 から v4.0 へのアップグレードは"),o("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.0-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),o("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),o("h2",{attrs:{id:"mongodb-v4-0-から-v4-2-へのアップグレード"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-0-から-v4-2-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v4.0 から v4.2 へのアップグレード")]),a._v(" "),o("p",[a._v("v4.0 から v4.2 へのアップグレードは"),o("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.2-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),o("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),o("h2",{attrs:{id:"mongodb-v4-2-から-v4-4-へのアップグレード"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-2-から-v4-4-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v4.2 から v4.4 へのアップグレード")]),a._v(" "),o("p",[a._v("v4.2 から v4.4 へのアップグレードは"),o("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.4-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),o("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),o("h2",{attrs:{id:"mongodb-v4-4-から-v5-0-へのアップグレード"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-4-から-v5-0-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v4.4 から v5.0 へのアップグレード")]),a._v(" "),o("p",[a._v("v4.4 から v5.0  へのアップグレードは"),o("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/5.0-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),o("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),o("h2",{attrs:{id:"mongodb-v5-0-から-v6-0-へのアップグレード"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v5-0-から-v6-0-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v5.0 から v6.0 へのアップグレード")]),a._v(" "),o("p",[a._v("v5.0 から v6.0 へのアップグレードは"),o("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/6.0-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),o("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),o("h2",{attrs:{id:"付録a-docker-ユーザーのためのアップグレード手順例"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#付録a-docker-ユーザーのためのアップグレード手順例","aria-hidden":"true"}},[a._v("#")]),a._v(" 付録A: docker ユーザーのためのアップグレード手順例")]),a._v(" "),o("p",[a._v("以下は MongoDB を v5.0 から v6.0 にアップグレードする場合の例です。"),o("br"),a._v("\n実際の MongoDB コンテナ名を "),o("code",[a._v("MONGO_CONTAINER_NAME")]),a._v(" に設定してください。")]),a._v(" "),o("ol",[o("li",[o("p",[a._v("MongoDB v5.0 起動中に以下を実行")]),a._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_VERSION"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("5.0\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_CONTAINER_NAME"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mymongodb\ndocker "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("exec")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_CONTAINER_NAME")]),a._v(" mongo --eval "),o("span",{pre:!0,attrs:{class:"token string"}},[a._v("'db.adminCommand( { setFeatureCompatibilityVersion: \"'")]),o("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_VERSION")]),o("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\" } )'")]),a._v("\n")])])])]),a._v(" "),o("li",[o("p",[a._v("MongoDB v5.0 を停止")])]),a._v(" "),o("li",[o("p",[a._v("MongoDB v6.0 を起動")])])]),a._v(" "),o("h2",{attrs:{id:"付録b-docker-compose-ユーザーのためのアップグレード手順例"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#付録b-docker-compose-ユーザーのためのアップグレード手順例","aria-hidden":"true"}},[a._v("#")]),a._v(" 付録B: docker-compose ユーザーのためのアップグレード手順例")]),a._v(" "),o("p",[a._v("以下は MongoDB を v5.0 から v6.0 にアップグレードする場合の例です。"),o("br"),a._v("\n実際の MongoDB サービス名を "),o("code",[a._v("MONGO_SERVICE_NAME")]),a._v(" に設定してください。")]),a._v(" "),o("ol",[o("li",[o("p",[a._v("MongoDB v5.0 起動中に以下を実行")]),a._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_VERSION"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("5.0\n"),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_SERVICE_NAME"),o("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mymongodb\ndocker-compose "),o("span",{pre:!0,attrs:{class:"token function"}},[a._v("exec")]),a._v(" "),o("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_SERVICE_NAME")]),a._v(" mongo --eval "),o("span",{pre:!0,attrs:{class:"token string"}},[a._v("'db.adminCommand( { setFeatureCompatibilityVersion: \"'")]),o("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_VERSION")]),o("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\" } )'")]),a._v("\n")])])])]),a._v(" "),o("li",[o("p",[a._v("MongoDB v5.0 を停止")])]),a._v(" "),o("li",[o("p",[a._v("yml 内の MongoDB の指定バージョンを変更")])]),a._v(" "),o("li",[o("p",[a._v("MongoDB v6.0 を起動")])])])])},[],!1,null,null,null);t.default=r.exports}}]);