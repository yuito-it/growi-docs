(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{501:function(t,e,_){"use strict";_.r(e);var a=_(48),v=Object(a.a)({},function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"監査ログのセットアップ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#監査ログのセットアップ","aria-hidden":"true"}},[t._v("#")]),t._v(" 監査ログのセットアップ")]),t._v(" "),_("p",[_("RouterLink",{attrs:{to:"/ja/admin-guide/management-cookbook/audit-log.html"}},[t._v("監査ログ")]),t._v("を利用可能な状態にする方法、収集するログについて紹介します。")],1),t._v(" "),_("h2",{attrs:{id:"監査ログを有効にする"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#監査ログを有効にする","aria-hidden":"true"}},[t._v("#")]),t._v(" 監査ログを有効にする")]),t._v(" "),_("p",[t._v("監査ログを有効にするには、環境変数 "),_("code",[t._v("AUDIT_LOG_ENABLED")]),t._v(" を "),_("code",[t._v("true")]),t._v(" にします。"),_("code",[t._v("true")]),t._v(" にした時点からログの収集・表示・検索が可能になります。")]),t._v(" "),_("h2",{attrs:{id:"ログの種類"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ログの種類","aria-hidden":"true"}},[t._v("#")]),t._v(" ログの種類")]),t._v(" "),_("p",[t._v("GROWI が収集するログは "),_("code",[t._v("SMALL、MEDIUM、LARGE")]),t._v(" の3種類のグループに別れています。デフォルトは "),_("code",[t._v("SMALL")]),t._v(" になっており、環境変数の "),_("code",[t._v("AUDIT_LOG_ACTION_GROUP_SIZE")]),t._v(" から変更可能です。")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th"),t._v(" "),_("th",{staticStyle:{"text-align":"center"}},[_("code",[t._v("SMALL")])]),t._v(" "),_("th",{staticStyle:{"text-align":"center"}},[_("code",[t._v("MEDIUM")])]),t._v(" "),_("th",{staticStyle:{"text-align":"center"}},[_("code",[t._v("LARGE")])])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("ログイン、ログアウト、"),_("br"),t._v("ページの作成、ページの削除")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")])]),t._v(" "),_("tr",[_("td",[t._v("一般ユーザーが行う操作全て"),_("sup",{staticClass:"footnote-ref"},[_("a",{attrs:{href:"#fn1",id:"fnref1"}},[t._v("[1]")])])]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("❌")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")])]),t._v(" "),_("tr",[_("td",[t._v("管理ユーザーが行う操作全て")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("❌")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("❌")]),t._v(" "),_("td",{staticStyle:{"text-align":"center"}},[t._v("⭕️")])])])]),t._v(" "),_("h2",{attrs:{id:"収集するログの-追加-除外"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#収集するログの-追加-除外","aria-hidden":"true"}},[t._v("#")]),t._v(" 収集するログの 追加 / 除外")]),t._v(" "),_("p",[_("code",[t._v("AUDIT_LOG_ACTION_GROUP_SIZE")]),t._v(" で設定されたグループに 含まれる / 含まれない アクションを個別に 追加 / 除外 できます。")]),t._v(" "),_("ul",[_("li",[t._v("設定されたグループに含まれないアクションを個別に追加\n"),_("ul",[_("li",[t._v("環境変数 "),_("code",[t._v("AUDIT_LOG_ADDITIONAL_ACTIONS")]),t._v(" に CSV形式（カンマ区切りの文字列）で指定します")]),t._v(" "),_("li",[t._v("例: "),_("code",[t._v("AUDIT_LOG_ADDITIONAL_ACTIONS=PAGE_VIEW,USER_PASSWORD_UPDATE")])])])]),t._v(" "),_("li",[t._v("設定されたグループに含まれるアクションを個別に除外\n"),_("ul",[_("li",[t._v("環境変数 "),_("code",[t._v("AUDIT_LOG_EXCLUDE_ACTIONS")]),t._v(" に CSV形式（カンマ区切りの文字列）で指定します")]),t._v(" "),_("li",[t._v("例: "),_("code",[t._v("AUDIT_LOG_EXCLUDE_ACTIONS=PAGE_CREATE,USER_LOGOUT")])])])])]),t._v(" "),_("h2",{attrs:{id:"対応しているアクション一覧"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#対応しているアクション一覧","aria-hidden":"true"}},[t._v("#")]),t._v(" 対応しているアクション一覧")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://github.com/weseek/growi/blob/master/packages/app/src/interfaces/activity.ts#L9",target:"_blank",rel:"noopener noreferrer"}},[t._v("収集できるアクション名"),_("OutboundLink")],1)])]),t._v(" "),_("hr",{staticClass:"footnotes-sep"}),t._v(" "),_("section",{staticClass:"footnotes"},[_("ol",{staticClass:"footnotes-list"},[_("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[_("p",[t._v("「一般ユーザーが行う操作全て」には、ページ表示("),_("code",[t._v("ACTION_PAGE_VIEW")]),t._v(")は含みません。ページ表示のログを記録したい場合は、別途 "),_("code",[t._v("AUDIT_LOG_ADDITIONAL_ACTIONS")]),t._v(" で個別に追加してください。 "),_("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[t._v("↩︎")])])])])])])},[],!1,null,null,null);e.default=v.exports}}]);