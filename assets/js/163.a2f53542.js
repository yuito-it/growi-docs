(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{527:function(t,a,v){"use strict";v.r(a);var i=v(48),_=Object(i.a)({},function(){var t=this,a=t.$createElement,v=t._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"データのインポート"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#データのインポート","aria-hidden":"true"}},[t._v("#")]),t._v(" データのインポート")]),t._v(" "),v("p",[t._v("GROWI v3.7.2 以降でGROWI、 esa.io、Qiita:Team のデータをインポートする機能をサポートしています。")]),t._v(" "),v("h2",{attrs:{id:"growi-アーカイブデータインポート"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#growi-アーカイブデータインポート","aria-hidden":"true"}},[t._v("#")]),t._v(" GROWI アーカイブデータインポート")]),t._v(" "),v("p",[t._v("GROWI のアーカイブデータの zip ファイルからデータをインポートします。")]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),v("p",[t._v("GROWI アーカイブデータは同バージョンの GROWI のみインポート可能です。")])]),t._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),v("p",[t._v("インポート機能のデータはファイルシステムを利用するため、GROWI サーバーをロードバランスしている場合は正常動作しない可能性があります。詳細は"),v("RouterLink",{attrs:{to:"/ja/admin-guide/admin-cookbook/loadbalance.html#インポート・エクスポート機能に関する注意点"}},[t._v("こちら")]),t._v("を確認してください。")],1)]),t._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),v("p",[t._v("インポート先の環境では、インポート元のデータに存在しない "),v("code",[t._v("username")]),t._v(" を持つ専用のユーザーを用意することをおすすめします。"),v("br"),t._v("\n上記を行わない場合、アーカイブデータ中に存在するユーザーのデータを正常に移管できない可能性があります。")])]),t._v(" "),v("h3",{attrs:{id:"インポート対象"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#インポート対象","aria-hidden":"true"}},[t._v("#")]),t._v(" インポート対象")]),t._v(" "),v("p",[t._v("インポート可能なデータ一覧は"),v("RouterLink",{attrs:{to:"/ja/admin-guide/management-cookbook/export.html#アーカイブ可能なデータコレクション"}},[t._v("データのアーカイブ")]),t._v("を参照してください。一つの zip ファイルから必要なデータコレクションのみを選択しインポートできます。")],1),t._v(" "),v("h3",{attrs:{id:"モード"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#モード","aria-hidden":"true"}},[t._v("#")]),t._v(" モード")]),t._v(" "),v("p",[t._v("重複データのインポートに関するルールはコレクションごとに以下の3つから選択できます。")]),t._v(" "),v("ul",[v("li",[t._v("Insert\n"),v("ul",[v("li",[t._v("同名と判断できるデータが存在しない場合のみインポートし、存在する場合はスキップします。")])])]),t._v(" "),v("li",[t._v("Upsert\n"),v("ul",[v("li",[t._v("同名と判断できるデータが存在する場合、そのデータを上書き更新します。")])])]),t._v(" "),v("li",[t._v("Flash and Insert\n"),v("ul",[v("li",[t._v("同名と判断できるデータが存在する場合、既存のデータを完全に削除した後、インポートを行います。")]),t._v(" "),v("li",[t._v("User コレクションではこのモードは選択できません。")]),t._v(" "),v("li",[t._v("Config コレクションはこのモードのみ選択可能です。\n"),v("ul",[v("li",[t._v("Config コレクションをインポートした場合、サーバー再起動が必要です。")])])])])])]),t._v(" "),v("h3",{attrs:{id:"インポート方法"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#インポート方法","aria-hidden":"true"}},[t._v("#")]),t._v(" インポート方法")]),t._v(" "),v("ol",[v("li",[t._v("GROWI に管理者アカウントでログインし、[管理/データインポート] ("),v("code",[t._v("/admin/importer")]),t._v(") にアクセスします。この時、インポートを行う管理者ユーザーの "),v("code",[t._v("username")]),t._v(" は、旧環境には存在しないことを確認してください。")]),t._v(" "),v("li",[t._v("[GROWI アーカイブをインポート] にて、GROWI アーカイブファイルをアップロードします。")]),t._v(" "),v("li",[t._v("インポートしたいコレクションにチェックを入れ、モードを選択します。")]),t._v(" "),v("li",[t._v("インポートを実行すると、各コレクションに結果が表示されます。")])]),t._v(" "),v("ul",[v("li",[t._v("Inserted: インポートによって新たに追加されたデータ")]),t._v(" "),v("li",[t._v("Modified: インポートによって更新されたデータ")]),t._v(" "),v("li",[t._v("Failed: インポート失敗したデータ")])]),t._v(" "),v("p",[t._v("*Config コレクションをインポートした場合、サーバー再起動が必要です。")]),t._v(" "),v("h2",{attrs:{id:"esa-io-のデータインポート"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#esa-io-のデータインポート","aria-hidden":"true"}},[t._v("#")]),t._v(" esa.io のデータインポート")]),t._v(" "),v("p",[t._v("esa.io が公開している "),v("a",{attrs:{href:"https://docs.esa.io/posts/102",target:"_blank",rel:"noopener noreferrer"}},[t._v("API v1"),v("OutboundLink")],1),t._v(" を利用して esa.io のデータをインポートします。")]),t._v(" "),v("h3",{attrs:{id:"インポート対象-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#インポート対象-2","aria-hidden":"true"}},[t._v("#")]),t._v(" インポート対象")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("esa.io")]),t._v(" "),v("th"),t._v(" "),v("th",[t._v("GROWI")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("記事")]),t._v(" "),v("td",[t._v("→")]),t._v(" "),v("td",[t._v("ページ")])]),t._v(" "),v("tr",[v("td",[t._v("カテゴリー")]),t._v(" "),v("td",[t._v("→")]),t._v(" "),v("td",[t._v("ページパス")])])])]),t._v(" "),v("div",{staticClass:"custom-block danger"},[v("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),v("ul",[v("li",[t._v("ユーザーデータはインポートされません。")]),t._v(" "),v("li",[t._v("同名ページがインポート先の GROWI にすでに存在している場合、そのページはスキップされます。")]),t._v(" "),v("li",[t._v("GROWI において作成不可能なページパスの場合、そのページはスキップされます。")]),t._v(" "),v("li",[t._v("esa.io のページにおける以下のメタデータはインポートされません。\n"),v("ul",[v("li",[t._v("ページ作成ユーザー、ページ最終更新ユーザー\n"),v("ul",[v("li",[t._v("GROWI 上ではインポートを実行したユーザーに上書きされます。")])])]),t._v(" "),v("li",[t._v("ページ作成日時、ページ最終更新日時\n"),v("ul",[v("li",[t._v("GROWI 上ではインポートを実行した日時に上書きされます。")])])]),t._v(" "),v("li",[t._v("star")]),t._v(" "),v("li",[t._v("watch")]),t._v(" "),v("li",[t._v("tag")]),t._v(" "),v("li",[t._v("comment")]),t._v(" "),v("li",[t._v("WIP/Ship it")]),t._v(" "),v("li",[t._v("revisions および changelog")])])]),t._v(" "),v("li",[t._v("添付ファイルは esa.io が管理している添付ファイル用 URL にアクセスするという方法で表示されます。そのため esa.io 上でファイルが削除された場合ページはリンク切れになります。")])])]),t._v(" "),v("h3",{attrs:{id:"インポート方法-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#インポート方法-2","aria-hidden":"true"}},[t._v("#")]),t._v(" インポート方法")]),t._v(" "),v("ol",[v("li",[t._v("esa.io に owner アカウントでログインし、左側のタブから [SETTINGS] → [ユーザー設定] → [Applications] の画面にアクセスします。")]),t._v(" "),v("li",[t._v("[Personal access tokens] の [Generate new token] ボタンをクリックし、GROWI から esa.io にアクセスするためのトークンを発行します。")]),t._v(" "),v("li",[t._v("トークン名を入力し、[Select scopes] の [Read] にチェックを入れ、[Save] します。")])]),t._v(" "),v("img",{attrs:{src:t.$withBase("/assets/images/import1.png"),alt:"import1"}}),t._v(" "),v("ol",{attrs:{start:"4"}},[v("li",[t._v("生成されたトークンを保存します。")])]),t._v(" "),v("img",{attrs:{src:t.$withBase("/assets/images/import2.png"),alt:"import2"}}),t._v(" "),v("ol",{attrs:{start:"5"}},[v("li",[t._v("GROWI に管理者アカウントでログインし、[管理/データインポート] ("),v("code",[t._v("/admin/importer")]),t._v(") にアクセスします。")]),t._v(" "),v("li",[t._v("[esa.io からのインポート] において、esa.io のチーム名とアクセストークン（先ほど保存したトークン）を入力し、更新します。")]),t._v(" "),v("li",[t._v("[接続テスト] を実行し、"),v("code",[t._v("Test connection to esa success.")]),t._v(" のアラートが表示されたら接続成功です。")]),t._v(" "),v("li",[t._v("esa.io に接続可能な状態で [インポート] を実行するとページのインポートが開始されます。")])]),t._v(" "),v("h2",{attrs:{id:"qiita-team-のデータインポート"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#qiita-team-のデータインポート","aria-hidden":"true"}},[t._v("#")]),t._v(" Qiita:Team のデータインポート")]),t._v(" "),v("p",[t._v("Qiita:Team が公開している "),v("a",{attrs:{href:"https://qiita.com/api/v2/docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("API v2"),v("OutboundLink")],1),t._v(" を利用して Qiita:Team のデータをインポートします。")]),t._v(" "),v("h3",{attrs:{id:"インポート対象-3"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#インポート対象-3","aria-hidden":"true"}},[t._v("#")]),t._v(" インポート対象")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("Qiita:Team")]),t._v(" "),v("th"),t._v(" "),v("th",[t._v("GROWI")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("記事")]),t._v(" "),v("td",[t._v("→")]),t._v(" "),v("td",[t._v("ページ")])])])]),t._v(" "),v("div",{staticClass:"custom-block danger"},[v("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),v("ul",[v("li",[t._v("ユーザーデータ、プロジェクトデータ、グループデータはインポートされません。")]),t._v(" "),v("li",[t._v("同名ページがインポート先の GROWI にすでに存在している場合、そのページはスキップされます。")]),t._v(" "),v("li",[t._v("GROWI において作成不可能なページパスの場合、そのページはスキップされます。")]),t._v(" "),v("li",[t._v("Qiita:Team のページにおける以下のメタデータはインポートされません。\n"),v("ul",[v("li",[t._v("ページ作成ユーザー、ページ最終更新ユーザー\n"),v("ul",[v("li",[t._v("GROWI 上ではインポートを実行したユーザーに上書きされます。")])])]),t._v(" "),v("li",[t._v("ページ作成日時、ページ最終更新日時\n"),v("ul",[v("li",[t._v("GROWI 上ではインポートを実行した日時に上書きされます。")])])]),t._v(" "),v("li",[t._v("ページに対するリアクション")]),t._v(" "),v("li",[t._v("公開範囲、共同編集モード")]),t._v(" "),v("li",[t._v("タグ")]),t._v(" "),v("li",[t._v("コメント")]),t._v(" "),v("li",[t._v("編集履歴")])])]),t._v(" "),v("li",[t._v("添付ファイルは Qiita:Team が管理している添付ファイル用 URL にアクセスするという方法で表示されます。そのため Qiita:Team 上でファイルが削除された場合ページはリンク切れになります。")])])]),t._v(" "),v("h3",{attrs:{id:"インポート方法-3"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#インポート方法-3","aria-hidden":"true"}},[t._v("#")]),t._v(" インポート方法")]),t._v(" "),v("ol",[v("li",[t._v("Qiita:Team に owner アカウントでログインし、右上のユーザーアイコンをクリックすると表示されるドロップダウンから [設定] の画面にアクセスします。")]),t._v(" "),v("li",[t._v("ユーザーアカウントの [アプリケーション] タブを開き、[個人用アクセストークン] にて [新しくトークンを発行する] をクリックします。")]),t._v(" "),v("li",[t._v("[アクセストークンの説明] を入力し、[スコープ] の [Read_qiita_team] にチェックを入れ、[発行する] をクリックします。")])]),t._v(" "),v("img",{attrs:{src:t.$withBase("/assets/images/import3.png"),alt:"import3"}}),t._v(" "),v("ol",{attrs:{start:"4"}},[v("li",[t._v("生成されたトークンを保存します。")]),t._v(" "),v("li",[t._v("GROWI に管理者アカウントでログインし、[管理/データインポート] ("),v("code",[t._v("/admin/importer")]),t._v(") にアクセスします。")]),t._v(" "),v("li",[t._v("[Qiita:Team からのインポート] において、Qiita:Team のチーム名とアクセストークン（先ほど保存したトークン）を入力し、更新します。")]),t._v(" "),v("li",[t._v("[接続テスト] を実行し、"),v("code",[t._v("Test connection to qiita:team success.")]),t._v(" のアラートが表示されたら接続成功です。")]),t._v(" "),v("li",[t._v("Qiita:Team に接続可能な状態で [インポート] を実行するとページのインポートが開始されます。")])])])},[],!1,null,null,null);a.default=_.exports}}]);