<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrading GROWI to v5.0.x | GROWI Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/assets/docs-growi-org/favicon.ico" sizes="48x48">
    <link rel="apple-touch-icon" href="/assets/docs-growi-org/apple-touch-icon.png">
    <meta name="description" content="GROWI Document">
    <link href="https://docs.growi.org/en/admin-guide/upgrading/50x.html" rel="canonical" />
    <link rel="preload" href="/assets/css/0.styles.7e18b4e5.css" as="style"><link rel="preload" href="/assets/js/app.cf862c07.js" as="script"><link rel="preload" href="/assets/js/2.1bd54489.js" as="script"><link rel="preload" href="/assets/js/67.4035d3cd.js" as="script"><link rel="preload" href="/assets/js/8.58e50b50.js" as="script"><link rel="prefetch" href="/assets/js/10.9d8d2418.js"><link rel="prefetch" href="/assets/js/100.07d844fc.js"><link rel="prefetch" href="/assets/js/101.639a8525.js"><link rel="prefetch" href="/assets/js/102.4939b9ab.js"><link rel="prefetch" href="/assets/js/103.26060bbe.js"><link rel="prefetch" href="/assets/js/104.120403ec.js"><link rel="prefetch" href="/assets/js/105.c83f29b3.js"><link rel="prefetch" href="/assets/js/106.482f0f0c.js"><link rel="prefetch" href="/assets/js/107.04d4de65.js"><link rel="prefetch" href="/assets/js/108.20c37dec.js"><link rel="prefetch" href="/assets/js/109.29c4eeb4.js"><link rel="prefetch" href="/assets/js/11.c4408afb.js"><link rel="prefetch" href="/assets/js/110.aaf62ae4.js"><link rel="prefetch" href="/assets/js/111.1b4adf67.js"><link rel="prefetch" href="/assets/js/112.229bc289.js"><link rel="prefetch" href="/assets/js/113.5b1b0650.js"><link rel="prefetch" href="/assets/js/114.b14535d1.js"><link rel="prefetch" href="/assets/js/115.c4e9de79.js"><link rel="prefetch" href="/assets/js/116.342f3cac.js"><link rel="prefetch" href="/assets/js/117.110e488c.js"><link rel="prefetch" href="/assets/js/118.1d2d09f1.js"><link rel="prefetch" href="/assets/js/119.8b6e4842.js"><link rel="prefetch" href="/assets/js/12.dcc2bf01.js"><link rel="prefetch" href="/assets/js/120.dc6dd1b6.js"><link rel="prefetch" href="/assets/js/121.46306788.js"><link rel="prefetch" href="/assets/js/122.627a905f.js"><link rel="prefetch" href="/assets/js/123.d692215c.js"><link rel="prefetch" href="/assets/js/124.1087f073.js"><link rel="prefetch" href="/assets/js/125.7009604c.js"><link rel="prefetch" href="/assets/js/126.4b8e2cd2.js"><link rel="prefetch" href="/assets/js/127.b348a45f.js"><link rel="prefetch" href="/assets/js/128.25da4d2f.js"><link rel="prefetch" href="/assets/js/129.be135490.js"><link rel="prefetch" href="/assets/js/13.4db267ff.js"><link rel="prefetch" href="/assets/js/130.d9ce3737.js"><link rel="prefetch" href="/assets/js/131.8c605bbe.js"><link rel="prefetch" href="/assets/js/132.17f96f13.js"><link rel="prefetch" href="/assets/js/133.07c2541a.js"><link rel="prefetch" href="/assets/js/134.26689ca5.js"><link rel="prefetch" href="/assets/js/135.4b082d5c.js"><link rel="prefetch" href="/assets/js/136.e6b5d716.js"><link rel="prefetch" href="/assets/js/137.52dde352.js"><link rel="prefetch" href="/assets/js/138.1bc7994e.js"><link rel="prefetch" href="/assets/js/139.3543e607.js"><link rel="prefetch" href="/assets/js/14.3ccd4297.js"><link rel="prefetch" href="/assets/js/140.35668f71.js"><link rel="prefetch" href="/assets/js/141.ab91a429.js"><link rel="prefetch" href="/assets/js/142.bacab7b7.js"><link rel="prefetch" href="/assets/js/143.f3e72e7b.js"><link rel="prefetch" href="/assets/js/144.97ceea29.js"><link rel="prefetch" href="/assets/js/145.3e86393f.js"><link rel="prefetch" href="/assets/js/146.5d7b2884.js"><link rel="prefetch" href="/assets/js/147.90c8a18a.js"><link rel="prefetch" href="/assets/js/148.744bcf61.js"><link rel="prefetch" href="/assets/js/149.7732256b.js"><link rel="prefetch" href="/assets/js/15.2d7bdc84.js"><link rel="prefetch" href="/assets/js/150.bf1a8f20.js"><link rel="prefetch" href="/assets/js/151.f61939ba.js"><link rel="prefetch" href="/assets/js/152.22b27482.js"><link rel="prefetch" href="/assets/js/153.da90765a.js"><link rel="prefetch" href="/assets/js/154.64296668.js"><link rel="prefetch" href="/assets/js/155.9bd28c4b.js"><link rel="prefetch" href="/assets/js/156.a7e0cded.js"><link rel="prefetch" href="/assets/js/157.b6010e7f.js"><link rel="prefetch" href="/assets/js/158.44bf6a44.js"><link rel="prefetch" href="/assets/js/159.c2f3c512.js"><link rel="prefetch" href="/assets/js/16.d45f01b2.js"><link rel="prefetch" href="/assets/js/160.65c08d17.js"><link rel="prefetch" href="/assets/js/161.e5353a2b.js"><link rel="prefetch" href="/assets/js/162.2a1eb501.js"><link rel="prefetch" href="/assets/js/163.a2f53542.js"><link rel="prefetch" href="/assets/js/164.b4f39e5b.js"><link rel="prefetch" href="/assets/js/165.fdc725be.js"><link rel="prefetch" href="/assets/js/166.1c928dc6.js"><link rel="prefetch" href="/assets/js/167.07d1a890.js"><link rel="prefetch" href="/assets/js/168.89ceb797.js"><link rel="prefetch" href="/assets/js/169.a8769cf1.js"><link rel="prefetch" href="/assets/js/17.88c61fec.js"><link rel="prefetch" href="/assets/js/170.997c9301.js"><link rel="prefetch" href="/assets/js/171.404db7c9.js"><link rel="prefetch" href="/assets/js/172.9bc3c8af.js"><link rel="prefetch" href="/assets/js/173.19ddc7b6.js"><link rel="prefetch" href="/assets/js/174.f6f1aa0f.js"><link rel="prefetch" href="/assets/js/175.a292f329.js"><link rel="prefetch" href="/assets/js/176.18821109.js"><link rel="prefetch" href="/assets/js/177.dae954fe.js"><link rel="prefetch" href="/assets/js/178.d2b2372f.js"><link rel="prefetch" href="/assets/js/179.07edcedc.js"><link rel="prefetch" href="/assets/js/18.939c718a.js"><link rel="prefetch" href="/assets/js/180.afacadae.js"><link rel="prefetch" href="/assets/js/181.b770a4c0.js"><link rel="prefetch" href="/assets/js/182.816f7627.js"><link rel="prefetch" href="/assets/js/183.3419bbcc.js"><link rel="prefetch" href="/assets/js/184.fd745b1f.js"><link rel="prefetch" href="/assets/js/185.fb78c566.js"><link rel="prefetch" href="/assets/js/186.52f14d1f.js"><link rel="prefetch" href="/assets/js/187.811cd00b.js"><link rel="prefetch" href="/assets/js/188.03bb08c1.js"><link rel="prefetch" href="/assets/js/189.ecfd40e9.js"><link rel="prefetch" href="/assets/js/19.ebad6276.js"><link rel="prefetch" href="/assets/js/190.354650b2.js"><link rel="prefetch" href="/assets/js/191.42b39b7c.js"><link rel="prefetch" href="/assets/js/192.7256c81d.js"><link rel="prefetch" href="/assets/js/193.d2681575.js"><link rel="prefetch" href="/assets/js/194.c36e8bc3.js"><link rel="prefetch" href="/assets/js/195.0a1e3b63.js"><link rel="prefetch" href="/assets/js/196.24efb650.js"><link rel="prefetch" href="/assets/js/197.18b75d52.js"><link rel="prefetch" href="/assets/js/198.825b9a43.js"><link rel="prefetch" href="/assets/js/199.aa980040.js"><link rel="prefetch" href="/assets/js/20.c37cc84f.js"><link rel="prefetch" href="/assets/js/200.ee925ba0.js"><link rel="prefetch" href="/assets/js/201.c03c0237.js"><link rel="prefetch" href="/assets/js/202.de85a4de.js"><link rel="prefetch" href="/assets/js/203.5d14ef50.js"><link rel="prefetch" href="/assets/js/204.6cee59d4.js"><link rel="prefetch" href="/assets/js/205.31775e86.js"><link rel="prefetch" href="/assets/js/206.86057d6d.js"><link rel="prefetch" href="/assets/js/207.f20c277f.js"><link rel="prefetch" href="/assets/js/208.5aa3f22a.js"><link rel="prefetch" href="/assets/js/209.8936d883.js"><link rel="prefetch" href="/assets/js/21.6ef60b3e.js"><link rel="prefetch" href="/assets/js/210.7a8c117c.js"><link rel="prefetch" href="/assets/js/211.b2c398c4.js"><link rel="prefetch" href="/assets/js/212.32b96912.js"><link rel="prefetch" href="/assets/js/213.3246cbc6.js"><link rel="prefetch" href="/assets/js/214.89107d7f.js"><link rel="prefetch" href="/assets/js/215.2a4be1f4.js"><link rel="prefetch" href="/assets/js/216.b63a68e7.js"><link rel="prefetch" href="/assets/js/217.9beb9c25.js"><link rel="prefetch" href="/assets/js/218.2d5bb359.js"><link rel="prefetch" href="/assets/js/219.41eb823c.js"><link rel="prefetch" href="/assets/js/22.21813b8d.js"><link rel="prefetch" href="/assets/js/220.1ef0992a.js"><link rel="prefetch" href="/assets/js/221.081322ea.js"><link rel="prefetch" href="/assets/js/222.dac48fb2.js"><link rel="prefetch" href="/assets/js/223.66e4a49c.js"><link rel="prefetch" href="/assets/js/224.e45408f6.js"><link rel="prefetch" href="/assets/js/225.b5f10513.js"><link rel="prefetch" href="/assets/js/226.69464b85.js"><link rel="prefetch" href="/assets/js/227.a1cb3f60.js"><link rel="prefetch" href="/assets/js/228.47d95ff5.js"><link rel="prefetch" href="/assets/js/229.5b6db4e4.js"><link rel="prefetch" href="/assets/js/23.ff5f404b.js"><link rel="prefetch" href="/assets/js/230.8a9e42d6.js"><link rel="prefetch" href="/assets/js/231.e1f7184d.js"><link rel="prefetch" href="/assets/js/232.86f6bb5a.js"><link rel="prefetch" href="/assets/js/233.99d17bef.js"><link rel="prefetch" href="/assets/js/234.d6e6affd.js"><link rel="prefetch" href="/assets/js/235.f6a22c05.js"><link rel="prefetch" href="/assets/js/236.37f3a109.js"><link rel="prefetch" href="/assets/js/237.5df635ba.js"><link rel="prefetch" href="/assets/js/238.99df75ce.js"><link rel="prefetch" href="/assets/js/239.fbf46c0b.js"><link rel="prefetch" href="/assets/js/24.ea1c44d5.js"><link rel="prefetch" href="/assets/js/240.0aaac5d3.js"><link rel="prefetch" href="/assets/js/241.30f88107.js"><link rel="prefetch" href="/assets/js/242.8918bb50.js"><link rel="prefetch" href="/assets/js/243.61352982.js"><link rel="prefetch" href="/assets/js/244.8bea7549.js"><link rel="prefetch" href="/assets/js/245.91a16734.js"><link rel="prefetch" href="/assets/js/246.27bb0a71.js"><link rel="prefetch" href="/assets/js/247.5ab42b6e.js"><link rel="prefetch" href="/assets/js/248.8d7bace2.js"><link rel="prefetch" href="/assets/js/249.912aa2a9.js"><link rel="prefetch" href="/assets/js/25.ffe0f7dc.js"><link rel="prefetch" href="/assets/js/250.6f9e7bca.js"><link rel="prefetch" href="/assets/js/251.e9949869.js"><link rel="prefetch" href="/assets/js/252.978321d3.js"><link rel="prefetch" href="/assets/js/253.2b54b818.js"><link rel="prefetch" href="/assets/js/254.6fe406a8.js"><link rel="prefetch" href="/assets/js/26.cb9ebbb5.js"><link rel="prefetch" href="/assets/js/27.d65cad82.js"><link rel="prefetch" href="/assets/js/28.6b91f950.js"><link rel="prefetch" href="/assets/js/29.8a867d01.js"><link rel="prefetch" href="/assets/js/3.759b0c63.js"><link rel="prefetch" href="/assets/js/30.7752c5a1.js"><link rel="prefetch" href="/assets/js/31.9c8ffd7d.js"><link rel="prefetch" href="/assets/js/32.716e47b5.js"><link rel="prefetch" href="/assets/js/33.d62ac677.js"><link rel="prefetch" href="/assets/js/34.ebf848e4.js"><link rel="prefetch" href="/assets/js/35.51fa03bd.js"><link rel="prefetch" href="/assets/js/36.77916e1d.js"><link rel="prefetch" href="/assets/js/37.27d63582.js"><link rel="prefetch" href="/assets/js/38.011fb40c.js"><link rel="prefetch" href="/assets/js/39.500c2a5c.js"><link rel="prefetch" href="/assets/js/4.8b797b9c.js"><link rel="prefetch" href="/assets/js/40.9cfdc785.js"><link rel="prefetch" href="/assets/js/41.771eb0b5.js"><link rel="prefetch" href="/assets/js/42.0f64db7b.js"><link rel="prefetch" href="/assets/js/43.ac2e496a.js"><link rel="prefetch" href="/assets/js/44.34907349.js"><link rel="prefetch" href="/assets/js/45.4d85c9c9.js"><link rel="prefetch" href="/assets/js/46.2e377a0b.js"><link rel="prefetch" href="/assets/js/47.43793283.js"><link rel="prefetch" href="/assets/js/48.8dd7676b.js"><link rel="prefetch" href="/assets/js/49.b8ed1651.js"><link rel="prefetch" href="/assets/js/5.754438ed.js"><link rel="prefetch" href="/assets/js/50.a7658f43.js"><link rel="prefetch" href="/assets/js/51.f4dddc72.js"><link rel="prefetch" href="/assets/js/52.62bb231e.js"><link rel="prefetch" href="/assets/js/53.cd64984b.js"><link rel="prefetch" href="/assets/js/54.e259db3d.js"><link rel="prefetch" href="/assets/js/55.7403a7c2.js"><link rel="prefetch" href="/assets/js/56.6c05ff50.js"><link rel="prefetch" href="/assets/js/57.4aa119cd.js"><link rel="prefetch" href="/assets/js/58.4912ed1d.js"><link rel="prefetch" href="/assets/js/59.0b9b761b.js"><link rel="prefetch" href="/assets/js/6.2027a8c8.js"><link rel="prefetch" href="/assets/js/60.be192031.js"><link rel="prefetch" href="/assets/js/61.627b45c6.js"><link rel="prefetch" href="/assets/js/62.e58e3f33.js"><link rel="prefetch" href="/assets/js/63.30d15889.js"><link rel="prefetch" href="/assets/js/64.f0aaab5d.js"><link rel="prefetch" href="/assets/js/65.cefd1426.js"><link rel="prefetch" href="/assets/js/66.b30b0302.js"><link rel="prefetch" href="/assets/js/68.8ad2ffb4.js"><link rel="prefetch" href="/assets/js/69.519d8235.js"><link rel="prefetch" href="/assets/js/7.5fea5eca.js"><link rel="prefetch" href="/assets/js/70.0f7b1815.js"><link rel="prefetch" href="/assets/js/71.e85819ee.js"><link rel="prefetch" href="/assets/js/72.554ed8f5.js"><link rel="prefetch" href="/assets/js/73.befd4f08.js"><link rel="prefetch" href="/assets/js/74.627b365b.js"><link rel="prefetch" href="/assets/js/75.9f04e206.js"><link rel="prefetch" href="/assets/js/76.c48850f6.js"><link rel="prefetch" href="/assets/js/77.a827bcf2.js"><link rel="prefetch" href="/assets/js/78.1c629649.js"><link rel="prefetch" href="/assets/js/79.0da04235.js"><link rel="prefetch" href="/assets/js/80.a7099a44.js"><link rel="prefetch" href="/assets/js/81.0fe819fd.js"><link rel="prefetch" href="/assets/js/82.a120268c.js"><link rel="prefetch" href="/assets/js/83.d4c802f7.js"><link rel="prefetch" href="/assets/js/84.1034f740.js"><link rel="prefetch" href="/assets/js/85.33de1f6b.js"><link rel="prefetch" href="/assets/js/86.96ac0903.js"><link rel="prefetch" href="/assets/js/87.a0027471.js"><link rel="prefetch" href="/assets/js/88.2ca07ebb.js"><link rel="prefetch" href="/assets/js/89.08954609.js"><link rel="prefetch" href="/assets/js/9.9164fcad.js"><link rel="prefetch" href="/assets/js/90.2c5f375c.js"><link rel="prefetch" href="/assets/js/91.b740816d.js"><link rel="prefetch" href="/assets/js/92.a6df18d1.js"><link rel="prefetch" href="/assets/js/93.962ca73e.js"><link rel="prefetch" href="/assets/js/94.bb7737c2.js"><link rel="prefetch" href="/assets/js/95.2f49c577.js"><link rel="prefetch" href="/assets/js/96.e416fd48.js"><link rel="prefetch" href="/assets/js/97.12351e24.js"><link rel="prefetch" href="/assets/js/98.a473a99f.js"><link rel="prefetch" href="/assets/js/99.2f4469a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7e18b4e5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><!----> <span class="site-name">GROWI Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/guide/" class="nav-link">
  Users Guide
</a></div><div class="nav-item"><a href="/en/admin-guide/" class="nav-link router-link-active">
  Admin Guide
</a></div><div class="nav-item"><a href="/en/dev/" class="nav-link">
  Developers Guide
</a></div><div class="nav-item"><a href="/en/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="https://github.com/growilabs/growi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="External Sites" class="dropdown-title"><span class="title">External Sites</span> <span class="arrow down"></span></button> <button type="button" aria-label="External Sites" class="mobile-dropdown-title"><span class="title">External Sites</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://growi.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GROWI.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://growi.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GROWI.cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://growi.co.jp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GROWI, Inc. (Japanese)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/admin-guide/upgrading/50x.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/admin-guide/upgrading/50x.html" class="nav-link">
  日本語
</a></li></ul></div></div> <a href="https://github.com/growilabs/growi-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en/guide/" class="nav-link">
  Users Guide
</a></div><div class="nav-item"><a href="/en/admin-guide/" class="nav-link router-link-active">
  Admin Guide
</a></div><div class="nav-item"><a href="/en/dev/" class="nav-link">
  Developers Guide
</a></div><div class="nav-item"><a href="/en/api/" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="https://github.com/growilabs/growi/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Note
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="External Sites" class="dropdown-title"><span class="title">External Sites</span> <span class="arrow down"></span></button> <button type="button" aria-label="External Sites" class="mobile-dropdown-title"><span class="title">External Sites</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://growi.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GROWI.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://growi.cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GROWI.cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://growi.co.jp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GROWI, Inc. (Japanese)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/admin-guide/upgrading/50x.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/admin-guide/upgrading/50x.html" class="nav-link">
  日本語
</a></li></ul></div></div> <a href="https://github.com/growilabs/growi-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/en/admin-guide/" aria-current="page" class="sidebar-link">Welcome</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Install</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/admin-guide/getting-started/docker-compose.html" class="sidebar-link">docker-compose</a></li><li><a href="/en/admin-guide/getting-started/ubuntu-server.html" class="sidebar-link">Ubuntu Server</a></li><li><a href="/en/admin-guide/getting-started/centos.html" class="sidebar-link">CentOS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Upgrading</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/admin-guide/upgrading/70x.html" class="sidebar-link">Upgrading to GROWI v7.0.x</a></li><li><a href="/en/admin-guide/upgrading/63x.html" class="sidebar-link">Upgrading to GROWI v6.3.x</a></li><li><a href="/en/admin-guide/upgrading/62x.html" class="sidebar-link">Upgrading to GROWI v6.2.x</a></li><li><a href="/en/admin-guide/upgrading/61x.html" class="sidebar-link">Upgrading to GROWI v6.1.x</a></li><li><a href="/en/admin-guide/upgrading/60x.html" class="sidebar-link">Upgrading to GROWI v6.0.x</a></li><li><a href="/en/admin-guide/upgrading/51x.html" class="sidebar-link">Upgrading GROWI to v5.1.x</a></li><li><a href="/en/admin-guide/upgrading/50x.html" aria-current="page" class="active sidebar-link">Upgrading GROWI to v5.0.x</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#table-of-contents" class="sidebar-link">Table of Contents</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#about-downgrading-to-v4-5-or-lower" class="sidebar-link">About Downgrading to v4.5 or lower</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#elasticsearch-7-x-support" class="sidebar-link">Elasticsearch 7.x Support</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#about-the-new-v5-compatible-format" class="sidebar-link">About The New v5 Compatible Format</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#new-function-maintenance-mode" class="sidebar-link">[New Function] Maintenance Mode</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#new-function-page-tree" class="sidebar-link">[New Function] Page Tree</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#specification-change-change-of-specifications-for-moving-renaming-deleting-pages" class="sidebar-link">[Specification Change] Change of Specifications for Moving / Renaming / Deleting Pages</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#new-function-added-options-for-page-deletion-process" class="sidebar-link">[New Function] Added Options for Page Deletion Process</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#specification-change-page-path-and-permalink" class="sidebar-link">[Specification Change] Page Path and Permalink</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#specification-change-page-delete-permission" class="sidebar-link">[Specification Change] Page Delete Permission</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#new-function-specification-change-user-group-parent-child-settings" class="sidebar-link">[New Function / Specification Change] User Group Parent-Child Settings</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#specification-change-specification-change-of-viewing-authority-setting-for-page" class="sidebar-link">[Specification Change] Specification Change of Viewing Authority Setting for Page</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#ui-changes-changes-to-icon-placement-on-the-page-leading-users-to-more-content" class="sidebar-link">[UI Changes] Changes to icon placement on the page, leading users to more content</a></li><li class="sidebar-sub-header"><a href="/en/admin-guide/upgrading/50x.html#check-before-upgrading" class="sidebar-link">Check before upgrading</a></li></ul></li><li><a href="/en/admin-guide/upgrading/45x.html" class="sidebar-link">Upgrading GROWI to v4.5.x</a></li><li><a href="/en/admin-guide/upgrading/44x.html" class="sidebar-link">Upgrading GROWI to v4.4.x</a></li><li><a href="/en/admin-guide/upgrading/43x.html" class="sidebar-link">Upgrading GROWI to v4.3.x</a></li><li><a href="/en/admin-guide/upgrading/42x.html" class="sidebar-link">Upgrading GROWI to v4.2.x</a></li><li><a href="/en/admin-guide/upgrading/41x.html" class="sidebar-link">Upgrading GROWI to v4.1.x</a></li><li><a href="/en/admin-guide/upgrading/40x.html" class="sidebar-link">Upgrading GROWI to v4.0.x</a></li><li><a href="/en/admin-guide/upgrading/38x.html" class="sidebar-link">Upgrading GROWI to v3.8.x</a></li><li><a href="/en/admin-guide/upgrading/37x.html" class="sidebar-link">Upgrading GROWI to v3.7.x</a></li><li><a href="/en/admin-guide/upgrading/36x.html" class="sidebar-link">Upgrading GROWI to v3.6.x</a></li><li><a href="/en/admin-guide/upgrading/35x.html" class="sidebar-link">Upgrading GROWI to v3.5.x</a></li><li><a href="/en/admin-guide/upgrading/34x.html" class="sidebar-link">Upgrading GROWI to v3.4.x</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Migration from other system</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>System Admin Cookbook</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/admin-guide/admin-cookbook/env-vars.html" class="sidebar-link">Environment Variables</a></li><li><a href="/en/admin-guide/admin-cookbook/logging.html" class="sidebar-link">Logging</a></li><li><a href="/en/admin-guide/admin-cookbook/launch-with-systemd.html" class="sidebar-link">Autostart using systemd</a></li><li><a href="/en/admin-guide/admin-cookbook/multi-app.html" class="sidebar-link">Multiple Sites</a></li><li><a href="/en/admin-guide/admin-cookbook/loadbalance.html" class="sidebar-link">Load Balancing Multiple Apps</a></li><li><a href="/en/admin-guide/admin-cookbook/lets-encrypt.html" class="sidebar-link">HTTPS with Let's Encrypt</a></li><li><a href="/en/admin-guide/admin-cookbook/attachment.html" class="sidebar-link">File Upload Settings</a></li><li><a href="/en/admin-guide/admin-cookbook/mongodb-backup.html" class="sidebar-link">MongoDB Backup &amp; Restore</a></li><li><a href="/en/admin-guide/admin-cookbook/upgrade-mongodb.html" class="sidebar-link">Upgrading MongoDB</a></li><li><a href="/en/admin-guide/admin-cookbook/mongodb-backup-regular.html" class="sidebar-link">MongoDB Auto Backup</a></li><li><a href="/en/admin-guide/admin-cookbook/integrate-with-hackmd.html" class="sidebar-link">HackMD(CodiMD) Integration</a></li><li><a href="/en/admin-guide/admin-cookbook/audit-log-setup.html" class="sidebar-link">Setup with Audit Log</a></li><li><a href="/en/admin-guide/admin-cookbook/trust-proxy.html" class="sidebar-link">Trust Proxy</a></li><li><a href="/en/admin-guide/admin-cookbook/custom-rate-limit.html" class="sidebar-link">Custom rate limit settings</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>GROWI App Admin Cookbook</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/admin-guide/management-cookbook/app-settings.html" class="sidebar-link">App Settings</a></li><li><a href="/en/admin-guide/management-cookbook/markdown.html" class="sidebar-link">Markdown Settings</a></li><li><a href="/en/admin-guide/management-cookbook/security.html" class="sidebar-link">Security Settings</a></li><li><a href="/en/admin-guide/management-cookbook/user-management.html" class="sidebar-link">User Management</a></li><li><a href="/en/admin-guide/management-cookbook/group.html" class="sidebar-link">UserGroup Management</a></li><li><a href="/en/admin-guide/management-cookbook/aws-s3-bucket-setting.html" class="sidebar-link">AWS S3 Bucket Setting</a></li><li><a href="/en/admin-guide/management-cookbook/ldap.html" class="sidebar-link">LDAP Integration</a></li><li><a href="/en/admin-guide/management-cookbook/ldapandkeycloakgroupsync.html" class="sidebar-link">LDAP/Keycloak Group Synchronization</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/en/admin-guide/management-cookbook/slack-integration/" class="sidebar-heading clickable"><span>Slack Integration</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/admin-guide/management-cookbook/slack-integration/official-bot-settings.html" class="sidebar-link">Official bot Settings</a></li><li><a href="/en/admin-guide/management-cookbook/slack-integration/custom-bot-without-proxy-settings.html" class="sidebar-link">Custom bot without proxy Settings</a></li><li><a href="/en/admin-guide/management-cookbook/slack-integration/custom-bot-with-proxy-settings.html" class="sidebar-link">Custom bot with proxy settings</a></li></ul></section></li><li><a href="/en/admin-guide/management-cookbook/marp.html" class="sidebar-link">Marp Settings</a></li><li><a href="/en/admin-guide/management-cookbook/active-directory.html" class="sidebar-link">Active Directory Integration</a></li><li><a href="/en/admin-guide/management-cookbook/google-analytics.html" class="sidebar-link">Google Analytics Settings</a></li><li><a href="/en/admin-guide/management-cookbook/external-notification.html" class="sidebar-link">External Notification</a></li><li><a href="/en/admin-guide/management-cookbook/import.html" class="sidebar-link">Import Data</a></li><li><a href="/en/admin-guide/management-cookbook/export.html" class="sidebar-link">Archive Data</a></li><li><a href="/en/admin-guide/management-cookbook/setup-search-system.html" class="sidebar-link">Setup and Management of Full Text Search</a></li><li><a href="/en/admin-guide/management-cookbook/audit-log.html" class="sidebar-link">Audit Log</a></li><li><a href="/en/admin-guide/management-cookbook/plugins.html" class="sidebar-link">Plugins</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="upgrading-growi-to-v5-0-x"><a href="#upgrading-growi-to-v5-0-x" aria-hidden="true" class="header-anchor">#</a> Upgrading GROWI to v5.0.x</h1> <p>In v5.0, a page tree view has been added to the sidebar.
It will allow you to view the hierarchical structure of all pages.
Along with that, downgrading to the previous version is not supported because there is a big change in the specifications of handling descendant pages when moving, renaming, and deleting pages.</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>To avoid making unintended changes to the &quot;Publish to me only&quot; and &quot;Publish only to groups&quot; pages,
administrators should check this upgrade guide and alert users to any changes.</p></div> <p>We also recommend you to read <a href="#check-before-upgrading">&quot;Check before upgrading&quot;</a> section.</p> <h2 id="table-of-contents"><a href="#table-of-contents" aria-hidden="true" class="header-anchor">#</a> Table of Contents</h2> <p></p><div class="table-of-contents"><ul><li><a href="#table-of-contents">Table of Contents</a></li><li><a href="#about-downgrading-to-v4-5-or-lower">About Downgrading to v4.5 or lower</a></li><li><a href="#elasticsearch-7-x-support">Elasticsearch 7.x Support</a></li><li><a href="#about-the-new-v5-compatible-format">About The New v5 Compatible Format</a></li><li><a href="#new-function-maintenance-mode">[New Function] Maintenance Mode</a></li><li><a href="#new-function-page-tree">[New Function] Page Tree</a></li><li><a href="#specification-change-change-of-specifications-for-moving-renaming-deleting-pages">[Specification Change] Change of Specifications for Moving / Renaming / Deleting Pages</a></li><li><a href="#new-function-added-options-for-page-deletion-process">[New Function] Added Options for Page Deletion Process</a></li><li><a href="#specification-change-page-path-and-permalink">[Specification Change] Page Path and Permalink</a></li><li><a href="#specification-change-page-delete-permission">[Specification Change] Page Delete Permission</a></li><li><a href="#new-function-specification-change-user-group-parent-child-settings">[New Function / Specification Change] User Group Parent-Child Settings</a></li><li><a href="#specification-change-specification-change-of-viewing-authority-setting-for-page">[Specification Change] Specification Change of Viewing Authority Setting for Page</a></li><li><a href="#ui-changes-changes-to-icon-placement-on-the-page-leading-users-to-more-content">[UI Changes] Changes to icon placement on the page, leading users to more content</a></li><li><a href="#check-before-upgrading">Check before upgrading</a></li></ul></div><p></p> <div><h2 id="about-downgrading-to-v4-5-or-lower"><a href="#about-downgrading-to-v4-5-or-lower" aria-hidden="true" class="header-anchor">#</a> About Downgrading to v4.5 or lower</h2> <p>If you want to downgrade from v5.0 to v4.5 or lower, you need to migrate down the MongoDB schema before switching to v4.5 and booting.</p> <p>For more information, please see <a href="/en/admin-guide/downgrading/50x-to-45x.html">Downgrading from v5.0 to v4.5 or lower</a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Downgrading is available for systems running on-premise or running with <a href="https://github.com/weseek/growi-docker-compose" target="_blank" rel="noopener noreferrer">weseek/growi-docker-compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
Please note that downgrading is not supported for other forms of system operations.</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Downgrading does not have the potential for data corruption, but there is a risk of data inconsistencies in the page's path.
Please undertake it at your own risk as an administrator.</p></div></div> <h2 id="elasticsearch-7-x-support"><a href="#elasticsearch-7-x-support" aria-hidden="true" class="header-anchor">#</a> Elasticsearch 7.x Support</h2> <p>v5.0 supports Elasticsearch version 7. And version 7 clients have become the default setting.</p> <div><h3 id="about-using-elasticsearch-6-x"><a href="#about-using-elasticsearch-6-x" aria-hidden="true" class="header-anchor">#</a> About Using Elasticsearch 6.x</h3> <p>Elasticsearch does not maintain full downgrade compatibility between different major versions. Therefore, it will be necessary to change the client library used by GROWI, depending on if they are using Elasticsearch 6.x or earlier.</p> <p>The default launch setting for GROWI v5.0 uses Elasticsearch 7-based clients to connect. To connect to Elasticsearch version 6, set the environment variable <code>ELASTICSEARCH_VERSION = 6</code> and start.</p> <p>For more information about Administrator's Guide, please see <a href="/en/admin-guide/admin-cookbook/env-vars.html">Environment Variables</a>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>Elasticsearch version 6 will continue to be available, but is not recommended for use, as support for version 6 ended on February 10, 2022.</li> <li>In the near future GROWI will end support for Elasticsearch version 6 and will remove the code. We therefore recommend to upgrade to the latest version 7.x.</li></ul></div></div> <h3 id="replace-from-elasticsearch-6-x-to-7-x"><a href="#replace-from-elasticsearch-6-x-to-7-x" aria-hidden="true" class="header-anchor">#</a> Replace from Elasticsearch 6.x to 7.x</h3> <p>Elastic version 6 and version 7 are officially said to be index compatible, but in order to avoid trouble when using it with GROWI, it is recommended to erase all existing index data and regenerate the index. Please refer to the procedure below.</p> <h4 id="on-premises"><a href="#on-premises" aria-hidden="true" class="header-anchor">#</a> On-premises</h4> <ol><li>Uninstall Elasticsearch 6.</li> <li>Install and launch Elasticsearch 7.
<ul><li>Confirm that the index data for GROWI does not exist (if it does exist, then ensure it does not inherit the data of Elasticsearch version 6).</li></ul></li> <li>Start GROWI v5.0.x.</li></ol> <h3 id="if-using-docker"><a href="#if-using-docker" aria-hidden="true" class="header-anchor">#</a> If Using Docker</h3> <ol><li>Delete active Elasticsearch 6 container.</li> <li>Delete docker volume from the Elasticsearch container.</li> <li>Launch Elasticsearch 7 container.
<ul><li>Confirm that the index data for GROWI does not exist (if it does exist, then ensure it does not inherit the data of Elasticsearch version 6).</li></ul></li> <li>Start GROWI v5.0.x.</li></ol> <h3 id="if-using-weseek-growi-docker-compose"><a href="#if-using-weseek-growi-docker-compose" aria-hidden="true" class="header-anchor">#</a> If Using <a href="https://github.com/weseek/growi-docker-compose" target="_blank" rel="noopener noreferrer">weseek/growi-docker-compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>In addition to referring to <a href="#if-using-docker">If Using Docker</a>, please refer to this guide on github, <a href="https://github.com/weseek/growi-docker-compose/wiki/Upgrade-Elasticsearch-from-6.x-to-7.x" target="_blank" rel="noopener noreferrer">Wiki: Upgrade Elasticsearch from 6.x to 7.x<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="about-the-new-v5-compatible-format"><a href="#about-the-new-v5-compatible-format" aria-hidden="true" class="header-anchor">#</a> About The New v5 Compatible Format</h2> <p>In v5.0, the internal data format of pages have changed significantly.</p> <ul><li>All new pages created after the v5.0 upgrade will be created in the &quot;New v5 Compatible Format&quot;</li> <li>Pages created up to v4.5 <strong>will not be automatically converted</strong> to the New v5 Compatible Format
<ul><li>It can be converted to the new v5 compatible format with an external conversion operation by administrators or general users.</li></ul></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can still view, edit, and manage pages that have not been converted to v5 Compatible Formats, but you will not be able to use the new features implemented in v5.0.</p></div> <h3 id="upgrade-operation-to-the-new-v5-compatible-format"><a href="#upgrade-operation-to-the-new-v5-compatible-format" aria-hidden="true" class="header-anchor">#</a> Upgrade Operation to The New v5 Compatible Format</h3> <p>Administrators can perform the conversion process from the admin page to the v5 Compatible Format for all public pages.
This operation will bring the converted public page to the page tree.</p> <img src="/assets/images/app-settings-convert-to-v5-compatibility.png" alt="app-settings-convert-to-v5-compatibility"> <p>For private pages, you can convert to the new v5 Compatible Format by clicking the &quot;Old Format Private Pages&quot; link at the bottom of the page tree,
or by accessing <code>/_private-legacy-pages</code> directly.
A list of pages that can be viewed by the logged-in user will be displayed.
Select the page you want to convert from the list and use the &quot;Bulk Conversion&quot; dropdown to convert it.</p> <img src="/assets/images/pagetree-private-legacy-pages-link.png" alt="pagetree-private-legacy-pages-link"> <h3 id="differences-in-behavior-before-and-after-conversion"><a href="#differences-in-behavior-before-and-after-conversion" aria-hidden="true" class="header-anchor">#</a> Differences in Behavior Before and After Conversion</h3> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:center;">Data created before v4.5</th> <th style="text-align:center;">New v5 Compatible Format Data</th></tr></thead> <tbody><tr><td style="text-align:left;"><strong>Display in Page Tree</strong></td> <td style="text-align:center;">Not Displayed</td> <td style="text-align:center;">Displayed</td></tr> <tr><td style="text-align:left;"><strong>Move / Delete Descendant Pages</strong></td> <td style="text-align:center;">Process only viewable pages</td> <td style="text-align:center;">Process all pages under it <br> (but, only for New v5 Compatible Format pages)</td></tr> <tr><td style="text-align:left;"><strong>View Permission Configuration for Descendant Pages</strong></td> <td style="text-align:center;">All types of permissions can be set</td> <td style="text-align:center;">Only permissions with a narrower range than the parent page can be set</td></tr></tbody></table> <h2 id="new-function-maintenance-mode"><a href="#new-function-maintenance-mode" aria-hidden="true" class="header-anchor">#</a> [New Function] Maintenance Mode</h2> <p>It is now possible to switch the system to maintenance mode from the management page.</p> <p>In maintenance mode, the page is not accessible to general users, as well as administrator users, who can only access the administration page and some API endpoints. With this function, you can prevent all data changes caused by creating, editing, and deleting page data and user data.</p> <p>Please use this function when upgrading to the New v5 Compatible Format from the import / export function or the management page.</p> <p>Maintenance mode can be enabled in the app settings on the management screen.</p> <img src="/assets/images/app-settings-maintenance-mode.png" alt="app-settings-maintenance-mode"> <p>[Display when maintenance mode is enabled]
<img src="/assets/images/maintenance-mode.png" alt="maintenance-mode"></p> <h2 id="new-function-page-tree"><a href="#new-function-page-tree" aria-hidden="true" class="header-anchor">#</a> [New Function] Page Tree</h2> <p>In v5.0, a page tree has been added to the sidebar that allows you to view the hierarchical structure of all pages.
Using the tree-like UI, it's possible to open and close descendant pages to display them, and move pages around by dragging and dropping.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Only new v5 Compatible Format pages will be displayed in the page tree.</p></div> <h2 id="specification-change-change-of-specifications-for-moving-renaming-deleting-pages"><a href="#specification-change-change-of-specifications-for-moving-renaming-deleting-pages" aria-hidden="true" class="header-anchor">#</a> [Specification Change] Change of Specifications for Moving / Renaming / Deleting Pages</h2> <p>The new v5 Compatible Page behaves differently when moving / renaming / deleting than it did before on v4.5.</p> <p>Until v4.5, when you selected &quot;Process with descendant pages&quot;, any decendant pages that were unable to be viewed by the operating user would remain unprocessed.</p> <div style="font-weight:bold;color:#900;">
    In v5.0,  if you do not have permission to view descendant pages, they will be moved / renamed / deleted together.
</div>
※ However, pages set to &quot;Only Those Who Know The Link&quot; are not included in the target of moving / renaming / deleting.
<p>For more details, please see <a href="/en/guide/features/authority.html">Setting Page Viewing / Editing Permissions</a>.</p> <p>Also, up to v4.5 it was possible to select &quot;Whether to Process with Descendant Pages&quot; when moving / renaming.
In v5.0, move / rename is now an operation that also involves descendant pages (not selectable). Regarding the deletion process, you can still select &quot;Whether to Process with Descendant Pages&quot;.</p> <h2 id="new-function-added-options-for-page-deletion-process"><a href="#new-function-added-options-for-page-deletion-process" aria-hidden="true" class="header-anchor">#</a> [New Function] Added Options for Page Deletion Process</h2> <p>In v5.0, in order to prevent the situation where the user accidentally deletes a large number of pages, the operation of &quot;Whether to Process with Descendant Pages&quot; or &quot;Whether to Delete Completely&quot; is permitted or disallowed from the management page. It is now possible to make more detailed selections.</p> <p>For more information about Administrator's Guide, please see <a href="/en/admin-guide/management-cookbook/security.html">Security Settings</a>.</p> <h2 id="specification-change-page-path-and-permalink"><a href="#specification-change-page-path-and-permalink" aria-hidden="true" class="header-anchor">#</a> [Specification Change] Page Path and Permalink</h2> <p>Until v4.5, page paths were unique in the system and pages with the same page path could not be created.</p> <p>With the implementation of the page tree in v5.0, page navigation and renaming had to be processed faster than before.
As a trade-off, the previously unique page path has been changed to allow duplication. The effects are listed below.</p> <h3 id="the-url-displayed-in-the-address-bar-of-the-browser-becomes-a-permalink"><a href="#the-url-displayed-in-the-address-bar-of-the-browser-becomes-a-permalink" aria-hidden="true" class="header-anchor">#</a> The URL Displayed in The Address Bar of The Browser Becomes a Permalink</h3> <p>Until v4.5, the URL for page browsing / transition was based on the page path <code>/Page1/Page1-1/...</code>. Access via permalinks represented by the page ID was also redirected to the page path.</p> <p>In v5.0, it is the complete opposite, and the URL at the time of page browsing / transition is a permalink expressed by the page ID. On the other hand, access by page path is redirected to the permalink represented by the page ID.</p> <p>You do not need to be aware of this specification change when using it. When sharing URLs, you can share both page path-based URLs and permalinks without any problems.</p> <h3 id="duplicate-detection"><a href="#duplicate-detection" aria-hidden="true" class="header-anchor">#</a> Duplicate Detection</h3> <p>In v5.0, there can be multiple pages with the same page path.
For example when accessing with a page path-based URL such as <code>/Page1/Page1-1/...</code>, if there are multiple pages associated with the path,
the following page will be displayed indicating that there is a duplicate. The user can move to that page by selecting one from the list.</p> <table><thead><tr><th style="text-align:center;">Duplicate Page List</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/assets/images/identical-pages-list.png" alt="identical-pages-list"></td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>Duplicate page paths are a &quot;Side Effect&quot;</li> <li>We do not expect users to intentionally create pages with duplicate page paths, and we do not provide a function to perform such operations.</li></ul></div> <h2 id="specification-change-page-delete-permission"><a href="#specification-change-page-delete-permission" aria-hidden="true" class="header-anchor">#</a> [Specification Change] Page Delete Permission</h2> <p>Starting with v5, you can specify the page delete permission in more detail.</p> <p>For more information about the Administrator's Guide, please see <a href="/en/admin-guide/management-cookbook/security.html">Security Settings</a>.</p> <h2 id="new-function-specification-change-user-group-parent-child-settings"><a href="#new-function-specification-change-user-group-parent-child-settings" aria-hidden="true" class="header-anchor">#</a> [New Function / Specification Change] User Group Parent-Child Settings</h2> <p>In v5.0, it is possible to set a parent-child relationship between user groups.</p> <p>For example, you can create a &quot;Design Team&quot; as a child group of the &quot;Technical Department&quot; group and register some members in the technical department group.</p> <p>For more information about the Administrator's Guide, please see <a href="/en/admin-guide/management-cookbook/group.html">Group Management</a>.</p> <h2 id="specification-change-specification-change-of-viewing-authority-setting-for-page"><a href="#specification-change-specification-change-of-viewing-authority-setting-for-page" aria-hidden="true" class="header-anchor">#</a> [Specification Change] Specification Change of Viewing Authority Setting for Page</h2> <p>Until v4.5, you could freely set the viewing authority for any page.</p> <p>In v5.0, pages under a page <code>/Page1</code> can only have the same or more restrictive view permissions.</p> <p>For more information about the User's Guide, please see <a href="/en/guide/features/authority.html">View / Edit Permission Page Setting</a>.</p> <h3 id="specification-change-of-specific-group-only-setting-for-the-page"><a href="#specification-change-of-specific-group-only-setting-for-the-page" aria-hidden="true" class="header-anchor">#</a> Specification Change of &quot;Specific Group Only&quot; Setting for The Page</h3> <p>Even with the &quot;Specific Group Only&quot; setting, the child pages can only have the same view permissions as the parent page, or only apply view permissions that have more restrictions (groups with a narrower range of members).</p> <p>For more information about the User's Guide, please see <a href="/en/guide/features/authority.html">View / Edit Permission Page Setting</a>.</p> <h3 id="precautions-when-converting-to-new-v5-compatible-format-data"><a href="#precautions-when-converting-to-new-v5-compatible-format-data" aria-hidden="true" class="header-anchor">#</a> Precautions When Converting to New v5 Compatible Format Data</h3> <p>Due to the new specification change in v5.0, it may not be possible to convert pages with viewing authorities up to v4.5. For example, <code>/Page1</code> is set to &quot;Specific Group Only&quot; and its child page<code>/Page1/Page1-1</code> is set to &quot;Public&quot;. In such case, you need to follow the steps below.</p> <ol><li>Move either <code>/Page1</code> or<code>/Page1/Page1-1</code> to a path without a parent-child relationship before conversion</li> <li>Convert <code>/Page1</code> and<code>/Page1/Page1-1</code> individually to the new v5 Compatible Format</li> <li>If necessary, reset (move) the parent-child relationship after resetting the viewing authority according to the specifications of v5.0.</li></ol> <h2 id="ui-changes-changes-to-icon-placement-on-the-page-leading-users-to-more-content"><a href="#ui-changes-changes-to-icon-placement-on-the-page-leading-users-to-more-content" aria-hidden="true" class="header-anchor">#</a> [UI Changes] Changes to icon placement on the page, leading users to more content</h2> <p>In v5.0, the UI that leads users to content has changed.</p> <h3 id="history-attached-data-shared-link-management"><a href="#history-attached-data-shared-link-management" aria-hidden="true" class="header-anchor">#</a> History, Attached Data, Shared Link Management</h3> <p>The following icons which were first placed at the top of the table of contents, have moved into the three dot leader dropdown.</p> <table><thead><tr><th style="text-align:center;">Before</th> <th style="text-align:center;"></th> <th style="text-align:center;">After</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/assets/images/v4-history-attachment-sharelink.png" alt="v4-history-attachment-sharelink"></td> <td style="text-align:center;">⇒</td> <td style="text-align:center;"><img src="/assets/images/v5-history-attachment-sharelink.png" alt="v5-history-attachment-sharelink"></td></tr></tbody></table> <h3 id="timeline"><a href="#timeline" aria-hidden="true" class="header-anchor">#</a> Timeline</h3> <p>The timeline (listing the contents of descendant pages) can be viewed by clicking the page list button at the top of the table of contents.</p> <table><thead><tr><th style="text-align:center;">Before</th> <th style="text-align:center;"></th> <th style="text-align:center;">After</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/assets/images/v4-timeline.png" alt="v4-history-attachment-sharelink"></td> <td style="text-align:center;">⇒</td> <td style="text-align:center;"><img src="/assets/images/v5-timeline.png" alt="v4-history-attachment-sharelink"></td></tr></tbody></table> <h3 id="others"><a href="#others" aria-hidden="true" class="header-anchor">#</a> Others</h3> <p>The position of the following link buttons has changed.</p> <ul><li>Footprint icon for displaying the page browsing user list</li> <li>Link button to scroll to the comment list</li></ul> <table><thead><tr><th style="text-align:center;">Before</th> <th style="text-align:center;"></th> <th style="text-align:center;">After</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/assets/images/v4-footprints-comments.png" alt="v4-footprints-comments"></td> <td style="text-align:center;">⇒</td> <td style="text-align:center;"><img src="/assets/images/v5-footprints-comments.png" alt="v5-footprints-comments"></td></tr></tbody></table> <p>Users who are comfortable with previous versions of the UI may be confused by these changes.
<strong>We recommend that you share these changes before and after the upgrade, to avoid users being confused.</strong>。</p> <h2 id="check-before-upgrading"><a href="#check-before-upgrading" aria-hidden="true" class="header-anchor">#</a> Check before upgrading</h2> <ul class="contains-task-list"><li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> <strong>At least 1 system administrator has read the entire upgrade guide and understands the implementations</strong></li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> Upgrade Elasticsearch to version 7, or set the environment variable <code>ELASTICSEARCH_VERSION = 6</code> to continue using Elasticsearch version 6</li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> Inform GROWI users about the change of access URI</li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> Inform GROWI users about changes in move / rename / delete behavior</li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> Inform GROWI users about &quot;Old Version Private Pages&quot;</li> <li class="task-list-item"><input checked="checked" disabled="disabled" type="checkbox" class="task-list-item-checkbox"> Inform GROWI users about the UI changes involving icon placement on the page, leading users to more content.</li></ul> <h3 id="example-of-well-known-content-to-users"><a href="#example-of-well-known-content-to-users" aria-hidden="true" class="header-anchor">#</a> Example of Well-known Content to Users</h3> <p>You can copy the following text and use it publicly.</p> <div class="language- extra-class"><pre class="language-text"><code>GROWI has been upgraded to v5.0.0. There are some changes for users, so please check the details below.
Official Upgrade Guide
https://docs.growi.org/en/admin-guide/upgrading/50x.html
Access URI has been changed
---------------------------
- In the new version, the URL displayed in the browser's address bar will be a permalink instead of the page path URL.
    - Before: http://example.com/Page1/Page1-1
    - After: http://example.com/61d04d3aecc2ec9f6cce3d3e
The behavior of move / rename / delete has been changed
----------------------------------------
- In the new version, if you move / rename / delete the parent page, all the pages under it will also be affected.
    - However, private pages that are set to &quot;Only Me&quot; or &quot;Only Specific Group&quot; remain in the old format, so they are not affected now.
    - Please convert your manageable private pages from http://example.com/_private-legacy-pages to the new format.
    - Please note that after converting these private pages, **move / rename / delete functions on the parent page will now effect the private page**.
Page Tree Added
----------------------------
- Available from the sidebar.
UI has been changed
----------------
- The following icons located at the top of the table of contents have been moved into the three dot leader dropdown.
    - Page List (Displaying the Page list of Descendants)
    - Timeline (Listing the Contents of Descendant Pages)
    - Change Log
    - Attached Data
    - Shared Link Management
- Also, the position of the following link buttons has changed.
    - Footprint icon for displaying the page browsing user list
    - Link button to scroll to the comment list
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/growilabs/growi-docs/edit/master/docs/en/admin-guide/upgrading/50x.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/admin-guide/upgrading/51x.html" class="prev">
        Upgrading GROWI to v5.1.x
      </a></span> <span class="next"><a href="/en/admin-guide/upgrading/45x.html">
        Upgrading GROWI to v4.5.x
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cf862c07.js" defer></script><script src="/assets/js/2.1bd54489.js" defer></script><script src="/assets/js/67.4035d3cd.js" defer></script><script src="/assets/js/8.58e50b50.js" defer></script>
  </body>
</html>
